# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1_ct6uggFru8AwPdmv3znBK05aYbzT-uF
"""

import streamlit as st
import requests

# MET APIë¥¼ ì´ìš©í•´ ì‘í’ˆ ê²€ìƒ‰
def search_artworks(query):
    search_url = "https://collectionapi.metmuseum.org/public/collection/v1/search"
    params = {"q": query}
    res = requests.get(search_url, params=params).json()
    return res.get("objectIDs", [])[:5]  # ìƒìœ„ 5ê°œë§Œ

# ì‘í’ˆ ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
def get_artwork_details(object_id):
    obj_url = f"https://collectionapi.metmuseum.org/public/collection/v1/objects/{object_id}"
    return requests.get(obj_url).json()

# Streamlit UI êµ¬ì„±
st.title("ğŸ–¼ï¸ MET Museum Artwork Explorer")

query = st.text_input("ğŸ” Search for artworks (e.g., Monet, armor, cat):")

if query:
    st.write("ê²€ìƒ‰ ì¤‘...")
    ids = search_artworks(query)
    if not ids:
        st.warning("ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.")
    else:
        for oid in ids:
            data = get_artwork_details(oid)
            st.subheader(data.get("title", "Untitled"))
            st.image(data.get("primaryImageSmall"), width=300)
            st.caption(f"ì‘ê°€: {data.get('artistDisplayName', 'ì•Œ ìˆ˜ ì—†ìŒ')}, ì—°ë„: {data.get('objectDate', '-')}")